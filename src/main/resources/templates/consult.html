<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz//thymeleaf/layout">
<head>
    <title>Hospital Web</title>
      <!--Import Google Icon Font-->
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
      <!--Import materialize.css-->
      <link type="text/css" rel="stylesheet" href="materialize/css/materialize.min.css"  media="screen,projection"/>
      <!--Let browser know website is optimized for mobile-->
      <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1.0"/>
</head>
<body>
<table id="table" class="centered">
      <thead>
    		 <tr>
    			<th>Data</th>
    			<th>Nome</th>
    			<th>Idade</th>
    			<th>Cpf</th>
    			<th>Rg</th>
    			<th>Data nascimento</th>
    			<th>Sexo</th>
    			<th>Signo</th>
    			<th>Mae</th>
    			<th>Pai</th>
    			<th>Email</th>
    			<th>Senha</th>
    			<th>Cep</th>
    			<th>Endereco</th>
    			<th>Numero</th>
    			<th>Bairro</th>
    			<th>Estado</th>
    			<th>Telefone Fixo</th>
    			<th>Celular</th>
    			<th>Altura</th>
    			<th>Peso</th>
    			<th>Cor</th>
    			<th>Epoc Cardiaco</th>
    			<th>Indice Cardiaco</th>
    			<th>Epoc Pulmonar</th>
    			<th>Indice Pulmonar</th>
    		</tr>
    </thead>
    	<tbody>
    		<tr th:each="patient : ${patients}">
    			<td><span th:text="${patient.cardiac.data}"></span></td>
    			<td><span th:text="${patient.nome}"></span></td>
    			<td><span th:text="${patient.idade}"></span></td>
    			<td><span th:text="${patient.cpf}"></span></td>
    			<td><span th:text="${patient.rg}"></span></td>
    			<td><span th:text="${patient.data_nasc}"></span></td>
    			<td><span th:text="${patient.sexo}"></span></td>
    			<td><span th:text="${patient.signo}"></span></td>
    			<td><span th:text="${patient.mae}"></span></td>
    			<td><span th:text="${patient.pai}"></span></td>
    			<td><span th:text="${patient.email}"></span></td>
    			<td><span th:text="${patient.senha}"></span></td>
    			<td><span th:text="${patient.cep}"></span></td>
    			<td><span th:text="${patient.endereco}"></span></td>
    			<td><span th:text="${patient.numero}"></span></td>
    			<td><span th:text="${patient.bairro}"></span></td>
    			<td><span th:text="${patient.estado}"></span></td>
    			<td><span th:text="${patient.telefone_fixo}"></span></td>
    			<td><span th:text="${patient.celular}"></span></td>
    			<td><span th:text="${patient.altura}"></span></td>
    			<td><span th:text="${patient.peso}"></span></td>
    			<td><span th:text="${patient.cor}"></span></td>
    			<td><span th:text="${patient.cardiac.epoc}"></span></td>
    			<td><span th:text="${patient.cardiac.ind_card}"></span></td>
    			<td><span th:text="${patient.pulmonary.epoc}"></span></td>
    			<td><span th:text="${patient.pulmonary.ind_pulm}"></span></td>
    		</tr>
    </tbody>
</table>
    <br/>
    
    <a href="index.html" th:href="@{/}" class="waves-effect waves-light btn">Voltar</a>
    
    <a id="btn" class="waves-effect waves-light btn">Exportar</a>
    
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<script>
		 $(document).ready(function() {
			$("#btn").click(function(e) {
				e.preventDefault();
				
				var Table = document.getElementById('table');
				var DataBase = new Blob(['\ufeff' + Table.outerHTML], {type:'application/vnd.ms-excel'});
				var url = window.URL.createObjectURL(DataBase);
				
				var a = document.createElement('a');
				
				a.href = url;
				
				a.download = 'Dados Paciente'
				
				a.click();
			});
			});
	</script> 
	 
	 
	 <!--JavaScript at end of body for optimized loading-->
     <script type="text/javascript" src="materialize/js/materialize.min.js"></script>
</body>
</html>